@{
    ViewData["Title"] = "Takvim";
}

<div class="container-fluid py-4">
    <div class="row justify-content-center">
        <div class="col-12 col-lg-10 col-xl-8">
            <div class="card border-0 shadow-sm">
                <div class="card-header bg-gradient-primary text-white py-3 border-0">
                    <div class="d-flex align-items-center">
                        <i class="fas fa-calendar-alt me-3" style="font-size: 1.2rem;"></i>
                        <h4 class="section-title">Takvim</h4>
                    </div>
                    <small class="opacity-75">Proje teslimleri, asama bitisleri ve gorusmelerinizi takip edin</small>
                </div>
                <div class="card-body p-4">
                    <!-- Renk KodlarÄ± -->
                    <div class="row mb-4">
                        <div class="col-12">
                            <div class="d-flex flex-wrap gap-3 justify-content-center">
                                <div class="d-flex align-items-center">
                                    <div class="color-box bg-primary me-2"></div>
                                    <small class="text-muted">ðŸ“‹ Proje Teslimleri</small>
                                </div>
                                <div class="d-flex align-items-center">
                                    <div class="color-box bg-warning me-2"></div>
                                    <small class="text-muted">âš¡ Asama Bitisleri</small>
                                </div>
                                <div class="d-flex align-items-center">
                                    <div class="color-box bg-success me-2"></div>
                                    <small class="text-muted">ðŸ’¬ Gorusmeler</small>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Takvim -->
                    <div id='calendar' class="calendar-container"></div>
                </div>
            </div>
        </div>
    </div>
</div>

<style>
.bg-gradient-primary {
    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
}

.color-box {
    width: 15px;
    height: 15px;
    border-radius: 3px;
    display: inline-block;
}

.calendar-container {
    min-height: 650px;
}

/* FullCalendar Custom Styles */
.fc {
    font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
}

.fc-toolbar-title {
    font-size: 1.5rem !important;
    font-weight: 600 !important;
    color: #2c3e50;
}

.fc-button-primary {
    background-color: #667eea !important;
    border-color: #667eea !important;
    border-radius: 6px !important;
    font-weight: 500 !important;
}

.fc-button-primary:hover {
    background-color: #5a6fd8 !important;
    border-color: #5a6fd8 !important;
}

.fc-event {
    border-radius: 4px !important;
    border: none !important;
    padding: 2px 6px !important;
    font-size: 0.85rem !important;
    font-weight: 500 !important;
    cursor: pointer !important;
    transform: none !important;
}

.fc-event:hover {
    transform: none !important;
    box-shadow: none !important;
}

.fc-day-today {
    background-color: rgba(102, 126, 234, 0.1) !important;
}

.fc-daygrid-event-harness {
    margin-bottom: 2px !important;
}

.fc-col-header-cell {
    background-color: #f8f9fa;
    font-weight: 600;
    color: #495057;
    border-color: #dee2e6 !important;
}

.fc-scrollgrid {
    border-color: #dee2e6 !important;
}

.fc-theme-standard td, .fc-theme-standard th {
    border-color: #dee2e6 !important;
}



@@media (max-width: 768px) {
    .fc-toolbar {
        flex-direction: column !important;
        gap: 10px !important;
    }
    
    .fc-toolbar-chunk {
        display: flex !important;
        justify-content: center !important;
    }
    
    .fc-button-group {
        flex-wrap: wrap !important;
    }
}
</style>

<link href='https://cdn.jsdelivr.net/npm/fullcalendar@6.1.10/index.global.min.css' rel='stylesheet' />
<script src='https://cdn.jsdelivr.net/npm/fullcalendar@6.1.10/index.global.min.js'></script>
<script src='https://cdn.jsdelivr.net/npm/fullcalendar@6.1.10/locales/tr.global.min.js'></script>

<script>
    document.addEventListener('DOMContentLoaded', function () {
        const calendarEl = document.getElementById('calendar');
        const calendar = new FullCalendar.Calendar(calendarEl, {
            headerToolbar: {
                left: 'prev next today',
                center: 'title',
                right: 'dayGridMonth timeGridWeek timeGridDay listWeek'
            },
            initialView: 'dayGridMonth',
            locale: 'tr',
            navLinks: true,
            editable: false,
            selectable: false,
            nowIndicator: true,
            height: 'auto',
            events: '@Url.Action("Events", "Calendar")',
            eventTimeFormat: { 
                hour: '2-digit', 
                minute: '2-digit', 
                hour12: false 
            },
            buttonText: {
                today: 'Bugun',
                month: 'Ay',
                week: 'Hafta',
                day: 'Gun',
                list: 'Liste'
            },
            allDayText: 'Tum Gun',
            moreLinkText: function(n) {
                return '+ ' + n + ' daha';
            },
            eventClick: function(info) {
                if (info.event.url) {
                    window.open(info.event.url, '_self');
                    info.jsEvent.preventDefault();
                }
            }

        });
        calendar.render();
    });
</script>


